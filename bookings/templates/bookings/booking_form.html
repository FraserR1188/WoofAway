{# bookings/templates/bookings/booking_form.html #}
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container py-4">
  {% if object %}
    <h1>Edit Booking #{{ object.pk }}</h1>
  {% else %}
    <h1>Create a New Booking for “{{ listing.title }}”</h1>
  {% endif %}
  <hr>

  <form method="post" class="row g-3">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="col-md-6">
      <label for="{{ form.check_in.id_for_label }}" class="form-label">Check-In Date</label>
      {{ form.check_in|as_crispy_field }}
      {{ form.check_in.errors }}
    </div>
    <div class="col-md-6">
      <label for="{{ form.check_out.id_for_label }}" class="form-label">Check-Out Date</label>
      {{ form.check_out|as_crispy_field }}
      {{ form.check_out.errors }}
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary">
        {% if object %}Save Changes{% else %}Reserve Now{% endif %}
      </button>
      <a href="{% url 'bookings:booking_list' %}" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
